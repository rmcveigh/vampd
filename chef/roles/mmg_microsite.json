{
  "name": "mmg_microsite",
  "description": "The role for mmg_microsite",
  "chef_type": "role",
  "json_class": "Chef::Role",
  "default_attributes": {},
  "override_attributes": {
    "drupal": {
      "sites": {
        "mmg_microsite": {
          "active": true,
          "deploy": {
            "action": ["deploy", "install"]
          },
          "drupal": {
            "settings": {
              "profile": "mmg_microsite",
              "settings": {
                "default": {
                  "ignore": false
                },
                "local_dev": {
                  "location": "profiles/mmg_microsite/settings.mmg_microsite.localdev.php"
                }
              }
            }
          },
          "repository": {
            "host": "",
            "uri": "/vagrant/sites/mmg_microsite/code",
            "revision": "master",
            "remotes": {
              "upstream": "ryan@pluto.milesmedia.com:/home/ryan/mmg_microsite"
            }
          }
        }
      }
    },
    "nodejs": {
      "install_method": "package",
      "npm": "1.4.26"
    },
    "drupal_frontend": {
      "nodejs": {
        "packages":["grunt", "grunt-cli", "bower"]
      },
      "css_preprocessor": {
        "/srv/www/mmg_microsite/current/profiles/mmg_microsite/themes/custom/mmg_microsite_bare": {
          "active": true,
          "gems": [
            "bundler"
          ],
          "commands": [
            "bundle install && bundle update",
            "npm install",
            "grunt build"
          ]
        }
      }
    }
  }
}
